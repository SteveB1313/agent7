function draw_datatable(selector,data=0,url=0,ajax_data=0,render_cols=0,edit=0) {
    // Render column names
    if (render_cols) {
        var col = render_cols.split(",");
        $.each(col,function(i){
            $(selector+">thead>tr").append('<th>'+col[i]+'</th>');
        });
    }
    var dt_json = {
        "columnDefs":[{'targets': 0,'width': "5%"}]
    }
    var edit_json = { // Icon for Actions
         'targets': -1,
         'searchable': false,
         'orderable': false,
         'width': "10%",
         'data': null,
         'render': function (data, type, row){
               var edit_url = window.location.href+"/edit/"+data[0];
               return '<td class="text-right"><a href='+edit_url+'><i class="tim-icons icon-settings"></i></a></td>'
         }
    }
    if (url) {
        dt_json["url"] = url
    } else if (data) {
        dt_json["data"] = data
        // Create columns for table based on data["columns"]
        var cols = data["columns"];
        $.each(col,function(i) {
            $(selector+">thead>tr").append('<th>'+col[i]+'</th>');
        });
    }
    if (edit) {
        $(selector+">thead>tr").append("<th>edit</th>");
        dt_json["columnDefs"].push(edit_json);
    }
    var table = $(selector).DataTable(dt_json);
    return table
}

function ajax_method(url,method="POST",data={}) {
  $.ajax({
         type: method,
         url: url,
         data: data,
         contentType: 'application/json', 
         success: function(result) {
            notify_call(result["message"],result["type"]);
         },
         error: function(result) {
            notify_call("Error","danger");
         }
   });
}
function notify_call(message,type) {
    $.notify({
      // options
      message: message
    },{
      // settings
      type: type
    });
}
